window.isMobile=!1;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){window.isMobile=!0}
function t_throttle(fn,threshhold,scope){var last;var deferTimer;threshhold||(threshhold=250);return function(){var context=scope||this;var now=+new Date();var args=arguments;if(last&&now<last+threshhold){clearTimeout(deferTimer);deferTimer=setTimeout(function(){last=now;fn.apply(context,args)},threshhold)}else{last=now;fn.apply(context,args)}}}
function t635_init(recid,textColor,cursorColor){var rec=document.querySelector('#rec'+recid);if(!rec)return;var typingData=rec.querySelector('.t635__textholder');if(!typingData)return;var typingRecIdList=typingData.getAttribute('data-recid').split(',');if(typingRecIdList.length===0)return;typingRecIdList.forEach(function(animRecId){var currentRecID=document.querySelector('#rec'+animRecId);if(!currentRecID)return;var screenMin=parseInt(currentRecID.getAttribute('data-screen-min'),10);var screenMax=parseInt(currentRecID.getAttribute('data-screen-max'),10);if(isNaN(screenMax)&&isNaN(screenMin)){t635_startType(recid,animRecId,textColor,cursorColor)}else if(!isNaN(screenMax)&&!isNaN(screenMin)){if(window.innerWidth>=screenMin&&window.innerWidth<=screenMax){t635_startType(recid,animRecId,textColor,cursorColor)}}else if(!isNaN(screenMax)){if(window.innerWidth<=screenMax){t635_startType(recid,animRecId,textColor,cursorColor)}}else if(!isNaN(screenMin)){if(window.innerWidth>=screenMin){t635_startType(recid,animRecId,textColor,cursorColor)}}})}
function t635_startType(recid,animRecId,textColor,cursorColor){var rec=document.querySelector('#rec'+recid);if(!rec)return;var animData=rec.querySelector('.t635__textholder');if(!animData)return;var animText=t635_findAnimElem(animRecId);var phrasesList=[];var phrase1=animData.getAttribute('data-text1');var phrase2=animData.getAttribute('data-text2');var phrase3=animData.getAttribute('data-text3');var phrase4=animData.getAttribute('data-text4');var phrase5=animData.getAttribute('data-text5');var animSpeed=animData.getAttribute('data-speed');var animLoop=animData.getAttribute('data-loop');var backspaceDelay=animData.getAttribute('data-backspacing-delay');if(!animText)return;if(typeof phrase1==='string'){phrasesList.push(phrase1.slice(0,80))}
if(typeof phrase2==='string'){phrasesList.push(phrase2.slice(0,80))}
if(typeof phrase3==='string'){phrasesList.push(phrase3.slice(0,80))}
if(typeof phrase4==='string'){phrasesList.push(phrase4.slice(0,80))}
if(typeof phrase5==='string'){phrasesList.push(phrase5.slice(0,80))}
if(animText&&phrasesList.length){var animTextHtml=animText.innerHTML;var animTextSplitted=animTextHtml.split('|');animText.innerHTML=animTextSplitted[0]+'<span class="t635__typing-text"></span>'+animTextSplitted[1];t635_updateAnimTextLimits(animRecId);t_onFuncLoad('t_throttle',function(){window.addEventListener('resize',t_throttle(function(){t635_updateAnimTextLimits(animRecId)}))});setInterval(function(){t635_updateAnimTextLimits(animRecId)},5000);var animatedText=document.querySelector('#rec'+animRecId+' .t635__typing-text');var animTextTop=animatedText.getAttribute('data-top-limit');var animTextBottom=animatedText.getAttribute('data-bottom-limit');var windowTop=document.querySelector('html').scrollTop;var windowBottom=windowTop+window.innerHeight;t_onFuncLoad('Typed',function(){var typedInstance=t635_animateText(animRecId,phrasesList,animSpeed,animLoop,backspaceDelay);var animatedCursor=document.querySelector('#rec'+animRecId+' .typed-cursor');if(textColor&&animatedText)animatedText.style.color=textColor;if(cursorColor&&animatedCursor)animatedCursor.style.color=cursorColor;if(animTextBottom<windowTop||animTextTop>windowBottom){typedInstance.reset();typedInstance.stop()}
t_onFuncLoad('t_throttle',function(){window.addEventListener('scroll',t_throttle(function(){animTextTop=animatedText.getAttribute('data-top-limit');animTextBottom=animatedText.getAttribute('data-bottom-limit');windowTop=document.querySelector('html').scrollTop;windowBottom=windowTop+window.innerHeight;if(animTextBottom<windowTop||animTextTop>windowBottom){typedInstance.reset();typedInstance.stop()}else{typedInstance.start()}},700))})})}}
function t635_findAnimElem(animRecId){var animRec=document.querySelector('#rec'+animRecId);if(!animRec)return;var currentH1=t635_findAnimTag(animRec,'h1');var currentH2=t635_findAnimTag(animRec,'h2');var currentH3=t635_findAnimTag(animRec,'h3');var currentDiv=t635_findAnimTag(animRec,'div');if(currentH1)return currentH1;if(currentH2)return currentH2;if(currentH3)return currentH3;if(currentDiv)return currentDiv}
function t635_findAnimTag(parent,element){var allElements=parent.querySelectorAll(element);for(var i=0;i<allElements.length;i++){if(allElements[i].innerHTML.indexOf('|')!==-1&&allElements[i].innerHTML.indexOf('t-map')===-1){var lastElement=allElements[i]}}
return lastElement}
function t635_updateAnimTextLimits(animRecId){var animatedBlock=document.querySelector('#rec'+animRecId);if(!animatedBlock)return;var animatedText=animatedBlock.querySelector('.t635__typing-text');if(animatedText){animatedText.setAttribute('data-top-limit',animatedText.getBoundingClientRect().top+window.pageYOffset);animatedText.setAttribute('data-bottom-limit',animatedBlock.getBoundingClientRect().top+window.pageYOffset+animatedBlock.clientHeight)}}
function t635_animateText(animRecId,phrasesList,animSpeed,animLoop,backspaceDelay){if(!animSpeed)animSpeed=40;if(!backspaceDelay)backspaceDelay=800;if(animLoop===null)animLoop=!0;if(animLoop==='false')animLoop=!1;var animRec='#rec'+animRecId+' .t635__typing-text';return new Typed(animRec,{strings:phrasesList,typeSpeed:animSpeed*1,startDelay:600,backDelay:backspaceDelay,loop:animLoop,})}
function t966_init(recid){var rec=document.getElementById('rec'+recid);var menu=rec?rec.querySelector('.t966'):null;var hook=menu?menu.getAttribute('data-tooltip-hook'):'';if(!hook)return;var hookLinks=document.querySelectorAll('a[href="'+hook+'"]');hookLinks=Array.prototype.filter.call(hookLinks,function(hookLink){var isSubmenuAllowed=hookLink.getAttribute('data-submenu-disallowed')!=='yes';if(isSubmenuAllowed){hookLink.classList.add('t966__tm-link');hookLink.setAttribute('data-tooltip-menu-id',recid);return!0}
return!1});var parentMenu=hookLinks.length?hookLinks[0].closest('[data-menu]'):null;var tooltipMenu=rec.querySelector('.t966__tooltip-menu');var isParentFixed=parentMenu&&window.getComputedStyle(parentMenu).position==='fixed';if(tooltipMenu)tooltipMenu.setAttribute('data-pos-fixed',isParentFixed?'yes':'no');t966_addArrow(recid,hookLinks);t966_setUpMenu(recid,hookLinks);t966_highlight()}
function t966_divideMenu(recid,rows){var rec=document.getElementById('rec'+recid);if(!rec)return;if(!rows)rows=1;var menu=rec.querySelector('.t966');if(menu&&menu.getAttribute('data-sort-mobile')==='yes'&&window.innerWidth<980)return;var items=rec.querySelectorAll('.t966__menu-item-wrapper');var list=rec.querySelector('.t966__menu-list');var maxItemsCountInRow=Math.ceil(items.length/rows);var rowClass='t966__menu-list-row_'+(100/rows).toFixed();for(var i=0;i<maxItemsCountInRow;i++){var row=document.createElement('div');row.classList.add('t966__menu-list-row');row.classList.add(rowClass);if(list)list.appendChild(row)}
var listRows=list?list.querySelectorAll('.t966__menu-list-row'):[];Array.prototype.forEach.call(items,function(item,i){if(listRows[i%maxItemsCountInRow])listRows[i%maxItemsCountInRow].appendChild(item)});var allRec=document.getElementById('allrecords');var currentMode=allRec?allRec.getAttribute('data-tilda-mode'):'';if(currentMode==='edit'){var tooltipItems=document.querySelectorAll('.t966__tooltip-menu');Array.prototype.forEach.call(tooltipItems,function(item){item.style.display='block'})}}
function t966_setUpMenu(recid,hookLinks){var rec=document.getElementById('rec'+recid);var submenu=rec?rec.querySelector('.t966__tooltip-menu'):null;if(!submenu)return;var content=submenu.querySelector('.t966__content');var menu=rec.querySelector('.t966');var verticalIndent=menu?menu.getAttribute('data-tooltip-margin'):'';var hooksAndSubmenu=hookLinks.concat(submenu);var timer;hooksAndSubmenu.forEach(function(el){el.addEventListener('mouseover',function(){if(window.isMobile&&window.innerWidth<980)return;if(el.classList.contains('t966__tooltip-menu')&&!el.classList.contains('t966__tooltip-menu_show'))return;if(timer)clearTimeout(timer);if(el.classList.contains('t966__tooltip-menu')&&submenu.classList.contains('t966__tooltip-menu_show'))return;t966_showSubmenu(recid,el,submenu,verticalIndent)});el.addEventListener('mouseout',function(){if(window.isMobile&&window.innerWidth<980)return;timer=setTimeout(function(){t966_hideSubmenu(recid,submenu)},300)})});document.addEventListener('click',function(e){if(submenu.getAttribute('data-mobiletooltip')!=='yes')return;if(!e.target.closest('.t966__tooltip-menu')&&!e.target.classList.contains('t966__tm-link')&&!e.target.closest('.t966__tm-link')){t966_hideSubmenu(recid,submenu)}});hookLinks.forEach(function(hookLink){hookLink.addEventListener('click',function(e){e.preventDefault();if(!window.isMobile||window.innerWidth>=980)return;if(hookLink.classList.contains('t-menu__link-item')){var nextEl=hookLink.nextElementSibling;if(submenu.classList.contains('t966__tooltip-menu_show')||(nextEl&&nextEl.classList.contains('t966__tooltip-menu_mobile'))){t966_hideSubmenu(recid,nextEl)}else{var clonedSubmenu=submenu.cloneNode(!0);clonedSubmenu.classList.add('t966__tooltip-menu_mobile');t966_showSubmenu(recid,hookLink,clonedSubmenu,verticalIndent)}}else{if(hookLink.classList.contains('t966__tooltip-menu')&&!hookLink.classList.contains('t966__tooltip-menu_show'))return;if(timer)clearTimeout(timer);if(hookLink.classList.contains('t966__tooltip-menu')&&submenu.classList.contains('t966__tooltip-menu_show'))return;t966_showSubmenu(recid,hookLink,submenu,verticalIndent);var tooltipMenu=rec.querySelector('.t966__tooltip-menu[data-mobiletootlip="yes"]');if(tooltipMenu){t966_hideSubmenu(recid,tooltipMenu)}}})});window.addEventListener('scroll',t_throttle(function(){if(content){content.addEventListener('mouseleave',function(){var activeEl=hookLinks.filter(function(el){return el.classList.contains('t966__tm-link_active')});var afterActiveEl=activeEl.length?activeEl[0].nextElementSibling:null;if(submenu.classList.contains('t966__tooltip-menu_show')||(afterActiveEl&&afterActiveEl.classList.contains('t966__tooltip-menu_mobile'))){t966_hideSubmenu(recid,afterActiveEl)}})}},300));window.addEventListener('resize',t_throttle(function(){if(window.isMobile||window.innerWidth<980)return;var mobileMenu=document.querySelector('.t966__tooltip-menu_mobile');t966_hideSubmenu(recid,mobileMenu)},300));var submenuLinks=submenu.querySelectorAll('a[href*="#"]');Array.prototype.forEach.call(submenuLinks,function(link){link.addEventListener('click',function(){t966_hideSubmenu(recid,submenu);var clickedInTooltipMenuEls=document.querySelectorAll('.t450, .t199__mmenu, .t280, .t282, .t204__burger, .t451, .t466');Array.prototype.forEach.call(clickedInTooltipMenuEls,function(el){var event=document.createEvent('Event');event.initEvent('clickedAnchorInTooltipMenu',!0,!0);el.dispatchEvent(event)});Array.prototype.forEach.call(submenuLinks,function(otherLink){var linkTitle=otherLink.querySelector('.t966__menu-item-title');if(otherLink!==link){if(linkTitle)linkTitle.classList.remove('t-active')}else{if(linkTitle)linkTitle.classList.add('t-active')}})})})}
function t966_showSubmenu(recid,currentAnchor,submenu,verticalIndent){if(window.isMobile&&window.innerWidth<980&&currentAnchor&&currentAnchor.classList.contains('t-menu__link-item')){currentAnchor.insertAdjacentElement('afterend',submenu);var tooltipMenuList=document.querySelectorAll('.t966__tooltip-menu a[href*="#"]');Array.prototype.forEach.call(tooltipMenuList,function(menu){menu.addEventListener('click',function(){Array.prototype.forEach.call(tooltipMenuList,function(el){if(el===menu){el.classList.add('t-active')}else{el.classList.remove('t-active')}});t966_hideSubmenu(recid,submenu)})});var submenuParent=submenu?submenu.closest('.t228'):null;if(submenuParent){var eventOverflow=document.createEvent('Event');eventOverflow.initEvent('overflow',!0,!0);submenuParent.dispatchEvent(eventOverflow);var eventME601=document.createEvent('Event');eventME601.initEvent('showME601a',!0,!0);submenuParent.dispatchEvent(eventME601)}
if(submenu)submenu.style.position='static';if(submenu)submenu.style.opacity='1';if(submenuParent||submenu&&submenu.closest('.t450')||submenu&&submenu.closest('.t451')){if(submenu.style.display==='none'){submenu.style.display=''}else{submenu.style.display='block'}}else{t966_slideDown(submenu)}
if(submenu)submenu.classList.add('t966__tooltip-menu_show');if(currentAnchor)currentAnchor.classList.add('t966__tm-link_active');if(window.lazy==='y'){t_lazyload_update()}
return}
var corner=submenu?submenu.querySelector('.t966__tooltip-menu-corner'):null;var cornerBorder=submenu?submenu.querySelector('.t966__tooltip-menu-corner-border'):null;if(currentAnchor&&!currentAnchor.classList.contains('t-menu__link-item')){if(corner)corner.style.opacity='1';if(cornerBorder)cornerBorder.style.opacity='1';if(window.isMobile&&window.innerWidth<980&&submenu){submenu.setAttribute('data-mobiletooltip','yes')}}
var isFirefox=navigator.userAgent.search('Firefox')!==-1;if(submenu)submenu.style.display='block';var submenuHeight=submenu?submenu.offsetHeight:0;var submenuWidth=submenu?submenu.offsetWidth:0;if(submenu)submenu.style.display='';var anchorHeight=t966_getValueWithoutPadding(currentAnchor,'height');var anchorWidth=t966_getValueWithoutPadding(currentAnchor,'width');if(currentAnchor&&currentAnchor.classList.contains('t-btn')){anchorWidth=currentAnchor.offsetWidth}
var scrollTop=window.pageYOffset;var anchorLeft=currentAnchor.getBoundingClientRect().left+window.pageXOffset;var anchorTop=currentAnchor.getBoundingClientRect().top+window.pageYOffset;var winWidth=window.innerWidth;var cornerLeft;var menuFixed=submenu?submenu.getAttribute('data-pos-fixed'):'';var parentZeroMenu=currentAnchor.closest('.t396__artboard');var menuWindowMargin=10;var arrowHeight=10;var verticalIndentDefault=25;if(verticalIndent){verticalIndent=parseInt(verticalIndent,10);verticalIndent+=arrowHeight}else{verticalIndent=verticalIndentDefault}
var axisY;if(menuFixed==='yes'){axisY=(anchorTop-scrollTop)+anchorHeight+verticalIndent;if(submenu)submenu.style.position='fixed'}else{axisY=anchorTop+anchorHeight+verticalIndent}
var axisX=anchorLeft;if(parentZeroMenu&&parentZeroMenu.classList.contains('t396__artboard_scale')&&window.tn_scale_factor){axisX=isFirefox?axisX:axisX*window.tn_scale_factor;anchorLeft=isFirefox?anchorLeft:anchorLeft*window.tn_scale_factor;anchorWidth=anchorWidth*window.tn_scale_factor}
if(axisY+submenuHeight>scrollTop+window.innerHeight&&axisY>=submenuHeight&&axisY-scrollTop>submenuHeight){axisY=Math.max(axisY-submenuHeight-anchorHeight-verticalIndent*2,scrollTop);if(corner)corner.classList.remove('t966__tooltip-menu-corner_bottom');if(corner)corner.classList.add('t966__tooltip-menu-corner_top');if(cornerBorder)cornerBorder.classList.remove('t966__tooltip-menu-corner-border_bottom');if(cornerBorder)cornerBorder.classList.add('t966__tooltip-menu-corner-border_top')}else{if(corner)corner.classList.remove('t966__tooltip-menu-corner_top');if(corner)corner.classList.add('t966__tooltip-menu-corner_bottom');if(cornerBorder)cornerBorder.classList.remove('t966__tooltip-menu-corner-border_top');if(cornerBorder)cornerBorder.classList.add('t966__tooltip-menu-corner-border_bottom')}
if(axisX+submenuWidth/2<winWidth){axisX=axisX+(anchorWidth-submenuWidth)/2;if(axisX<0){axisX=menuWindowMargin}}else{axisX=winWidth-submenuWidth-menuWindowMargin}
if(Math.ceil(submenuWidth)+menuWindowMargin*2>winWidth){axisX=menuWindowMargin;if(submenu)submenu.style.width=(winWidth-menuWindowMargin*2)+'px'}
if(submenu)submenu.style.left=axisX+'px';if(submenu)submenu.style.top=axisY+'px';if(submenu)submenu.offsetHeight;if(submenu){if(submenu.style.display==='none'){submenu.style.display=''}else{submenu.style.display='block'}}
if(submenu)submenu.classList.add('t966__tooltip-menu_show');if(currentAnchor)currentAnchor.classList.add('t966__tm-link_active');cornerLeft=anchorLeft+Math.floor(anchorWidth/2)-axisX-(arrowHeight/2);if(corner)corner.style.left=cornerLeft+'px';if(cornerBorder)cornerBorder.style.left=cornerLeft+'px';var submenuTopOffset=submenu?submenu.getBoundingClientRect().top:0;if(submenuTopOffset+submenuHeight>window.innerHeight&&submenu){var content=submenu?submenu.querySelector('.t966__content'):null;var contentPaddingBottom=content?content.style.paddingBottom||window.getComputedStyle(content).paddingBottom:'0';var contentPadding=content?parseInt(contentPaddingBottom,10):0;var paddingWindow=40;var height=window.innerHeight-axisY-contentPadding-paddingWindow-arrowHeight;if(content)content.style.overflowY='scroll';if(content)content.style.height=height+'px'}
if(window.lazy==='y'){t_lazyload_update()}}
function t966_hideSubmenu(recid,submenu){var activeLinks;if(submenu&&submenu.getAttribute('data-mobiletooltip')==='yes'){submenu.setAttribute('data-mobiletooltip','')}
if(submenu&&submenu.classList.contains('t966__tooltip-menu_mobile')){if(submenu.closest('.t280')||submenu.closest('.t450')||submenu.closest('.t451')||submenu.closest('.t229')){submenu.style.display='none';t966_removeEl(submenu)}else{t966_slideUp(submenu,300,function(){var submenuParent=submenu?submenu.closest('.t228'):null;if(submenuParent){var eventNoOverflow=document.createEvent('Event');eventNoOverflow.initEvent('nooverflow',!0,!0);submenuParent.dispatchEvent(eventNoOverflow)}
t966_removeEl(submenu)})}
activeLinks=document.querySelectorAll('.t966__tm-link_active');Array.prototype.forEach.call(activeLinks,function(link){link.classList.remove('t966__tm-link_active')});return}else{var content=submenu?submenu.querySelector('.t966__content'):null;if(submenu)submenu.style.display='';if(submenu)submenu.style.left='';if(submenu)submenu.style.top='';if(submenu)submenu.style.width='';if(content)content.style.overflowY='';if(content)content.style.height='';if(submenu)submenu.classList.remove('t966__tooltip-menu_show')}
activeLinks=document.querySelectorAll('.t966__tm-link_active');Array.prototype.forEach.call(activeLinks,function(link){link.classList.remove('t966__tm-link_active')})}
function t966_addArrow(recid,hookLinks){var rec=document.getElementById('rec'+recid);var menu=rec?rec.querySelector('.t966'):null;var isArrowAppend=menu.getAttribute('data-add-arrow');if(!isArrowAppend)return;hookLinks.forEach(function(hookLink){var arrow=document.createElement('div');arrow.classList.add('t966__arrow');hookLink.appendChild(arrow)})}
function t966_highlight(){var url=window.location.href;var pathname=window.location.pathname;var hash=window.location.hash;if(url.substr(url.length-1)==='/'){url=url.slice(0,-1)}
if(pathname.substr(pathname.length-1)==='/'){pathname=pathname.slice(0,-1)}
if(pathname.charAt(0)==='/'){pathname=pathname.slice(1)}
if(pathname===''){pathname='/'}
var shouldBeActiveElements=document.querySelectorAll('a[href=\''+url+'\'] .t966__menu-item-title, '+'a[href=\''+url+'/\'] .t966__menu-item-title, '+'a[href=\''+pathname+'\'] .t966__menu-item-title, '+'a[href=\'/'+pathname+'\'] .t966__menu-item-title, '+'a[href=\''+pathname+'/\'] .t966__menu-item-title, '+'a[href=\'/'+pathname+'/\'] .t966__menu-item-title'+(hash?', a[href="'+hash+'"] .t966__menu-item-title':''));Array.prototype.forEach.call(shouldBeActiveElements,function(link){link.classList.add('t-active')})}
function t966_removeEl(el){var elParent=el?el.parentElement:null;if(elParent)elParent.removeChild(el)}
function t966_slideUp(target,duration,callback){if(!target)return;if(!duration)duration=300;var step=target.offsetHeight*10/duration;var difference=target.offsetHeight;target.style.overflow='hidden';target.setAttribute('data-slide','y');var timerID=setInterval(function(){difference-=step;target.style.height=difference+'px';if(difference<=0){target.style.height='';target.style.overflow='';target.style.display='none';target.removeAttribute('data-slide');if(typeof callback==='function'){callback()}
clearInterval(timerID)}},10)}
function t966_slideDown(target,duration){if(!target)return;if(!duration)duration=300;target.style.display='';var newDisplayValue=window.getComputedStyle(target).display==='none'?'block':window.getComputedStyle(target).display;target.style.display=newDisplayValue;var cahsedHeight=target.offsetHeight;target.style.height='0';target.style.overflow='hidden';target.setAttribute('data-slide','y');var step=cahsedHeight*10/duration;var difference=0;var timerID=setInterval(function(){target.style.height=difference+'px';difference+=step;if(difference>=cahsedHeight){target.style.height='';target.style.overflow='';target.style.display=newDisplayValue;target.removeAttribute('data-slide');clearInterval(timerID)}},10)}
function t966_getValueWithoutPadding(el,value){if(!el)return 0;var elWidth=el.offsetWidth||parseInt(window.getComputedStyle(el).width,10);var elHeight=el.offsetHeight||parseInt(window.getComputedStyle(el).height,10);switch(value){case 'width':var paddingLeft=el.style.paddingLeft||parseInt(window.getComputedStyle(el).paddingLeft,10);var paddingRight=el.style.paddingLeft||parseInt(window.getComputedStyle(el).paddingRight,10);return elWidth-(paddingLeft+paddingRight);case 'height':var paddingTop=el.style.paddingTop||parseInt(window.getComputedStyle(el).paddingTop,10);var paddingBottom=el.style.paddingBottom||parseInt(window.getComputedStyle(el).paddingBottom,10);return elHeight-(paddingTop+paddingBottom)}}
function t830_init(recid){var rec=document.getElementById('rec'+recid);var allRec=document.getElementById('allrecords');if(!allRec||!rec)return;var panel=rec.querySelector('.t830__panel');var overlay=rec.querySelector('.t830m__overlay');var menu=rec.querySelector('.t830m');var submenu=rec.querySelector('.t830m__submenu');var burger=rec.querySelector('.t830__side .t830__burger');var menuItemList=rec.querySelectorAll('.t830m__list-title a');var submenuItemList=rec.querySelectorAll('.t830m__submenu-item a');t830_initMenu(rec,menu,burger,overlay);t830_removePadding(rec,allRec);t830_calcCol(rec,menu,allRec);t830_menuHighlight();t830_openSubmenu(rec);t830_hoverShowMenu(rec,menu,panel,overlay,burger);window.addEventListener('resize',function(){t830_calcCol(rec,menu,allRec);t830_removePadding(rec,allRec);if(menu&&menu.classList.contains('t830m_close')&&window.innerWidth>1499){if(overlay)overlay.classList.remove('t830m__menu_show')}});if(submenu&&submenu.classList.contains('t830m__submenu_close')){t830_toggleMenu(rec)}
if(window.innerWidth>1199){t830_scrollSideMenu(rec)}
var isHashNotEmpty=window.location.hash.length!==0;Array.prototype.forEach.call(menuItemList,function(menuItem){menuItem.addEventListener('click',function(){if(isHashNotEmpty){Array.prototype.forEach.call(menuItemList,function(menuEl){menuEl.classList.remove('t-active')});menuItem.classList.add('t-active')}})});Array.prototype.forEach.call(submenuItemList,function(submenuItem){submenuItem.addEventListener('click',function(){if(isHashNotEmpty){Array.prototype.forEach.call(submenuItemList,function(submenuEl){submenuEl.classList.remove('t-active')});submenuItem.classList.add('t-active')}})});t830_checkAnchorLinks(recid)}
function t830_calcCol(rec,menu,allrecords){if(window.innerWidth<=1199||!menu||window.getComputedStyle(rec).display==='none')return;var label=document.querySelector('.t-tildalabel');if(menu.classList.contains('t830m_open')){if(allrecords)allrecords.classList.add('t830__allrecords_padd-small');if(label)label.classList.add('t830__t-tildalabel_padd-small')}else{if(allrecords)allrecords.classList.add('t830__allrecords_padd');if(label)label.classList.add('t830__t-tildalabel_padd')}}
function t830_toggleMenu(rec){var titleList=rec.querySelectorAll('.t830m__list-title_toggle');Array.prototype.forEach.call(titleList,function(listTitle){listTitle.addEventListener('click',function(){var submenu=listTitle.nextElementSibling;var textTitle=listTitle.querySelector('.t830m__list-title-text');t830_slideToggle(submenu);if(textTitle)textTitle.classList.toggle('t830m__list-title-text_opacity');if(textTitle)textTitle.classList.toggle('t-menu__link-item')})})}
function t830_openSubmenu(rec){var activeLink=rec.querySelector('.t830m__submenu-item a.t-active');var submenu=activeLink?activeLink.closest('.t830m__submenu'):null;if(submenu)submenu.style.display='block'}
function t830_hoverShowMenu(rec,menu,panel,overlay,burger){if(window.innerWidth<=1199||!panel||!panel.classList.contains('t830__panel_hover'))return;panel.addEventListener('mouseenter',function(){if(menu)menu.classList.add('t830m__menu_show');if(burger)burger.classList.add('t830__burger_open');if(overlay)overlay.classList.add('t830m__overlay_hover')});if(menu){menu.addEventListener('mouseleave',function(){menu.classList.remove('t830m__menu_show');if(burger)burger.classList.remove('t830__burger_open')})}
if(overlay){overlay.addEventListener('mouseenter',function(){overlay.classList.remove('t830m__overlay_hover');if(burger)burger.classList.remove('t830__burger_open');if(menu)menu.classList.remove('t830m__menu_show')})}
var menuLinks=menu.querySelectorAll('a');Array.prototype.forEach.call(menuLinks,function(link){link.addEventListener('click',function(){menu.classList.remove('t830m__menu_show');if(burger)burger.classList.remove('t830__burger_open')})});if(burger){burger.addEventListener('click',function(){if(burger.classList.contains('t830__burger_open')){t830_closeMenu(rec,menu,overlay);burger.classList.remove('t830__burger_open')}else{burger.classList.add('t830__burger_open');if(menu)menu.classList.add('t830m__menu_show');if(overlay)overlay.classList.add('t830m__overlay_hover')}})}}
function t830_showMenu(rec,menu,burger,overlay){var panel=rec.querySelector('.t830__panel');document.body.classList.add('t830__body_menushowed');if(overlay)overlay.classList.add('t830m__menu_show');if(menu)menu.classList.add('t830m__menu_show');var closedMenuEls=rec.querySelectorAll('.t830m__overlay, .t830m__close, a[href*="#"]');closedMenuEls=Array.prototype.filter.call(closedMenuEls,function(el){return!(el.classList.contains('tooltipstered')||el.classList.contains('t794__tm-link')||el.classList.contains('t978__tm-link')||el.classList.contains('t966__tm-link'))});closedMenuEls.forEach(function(el){el.addEventListener('click',function(){t830_closeMenu(rec,menu,overlay);if(burger)burger.classList.remove('t830__burger_open')})});if(panel)panel.classList.add('t830__panel_close');var popupBg=document.querySelector('.t-site-search-popup__background');document.addEventListener('keydown',function(e){if(e.keyCode!==27||popupBg)return;document.body.classList.remove('t830__body_menushowed');if(menu)menu.classList.remove('t830m__menu_show');if(burger)burger.classList.remove('t830__burger_open');if(overlay)overlay.classList.remove('t830m__menu_show')})}
function t830_closeMenu(rec,menu,overlay){var panel=rec.querySelector('.t830__panel');if(menu&&menu.classList.contains('t830m_open')&&window.innerWidth<1500){if(panel)panel.classList.remove('t830__panel_close')}
document.body.classList.remove('t830__body_menushowed');if(menu)menu.classList.remove('t830m__menu_show');if(overlay)overlay.classList.remove('t830m__menu_show')}
function t830_initMenu(rec,menu,burger,overlay){if(!rec)return;var panel=rec.querySelector('.t830__panel');var menuContent=rec.querySelector('.t830__menu__content');if(typeof jQuery!=='undefined'){$('.t830').bind('clickedAnchorInTooltipMenu',function(){t830_closeMenu(rec,menu,overlay)})}else{var menuBlock=document.querySelector('.t830');if(menuBlock){menuBlock.addEventListener('clickedAnchorInTooltipMenu',function(){t830_closeMenu(rec,menu,overlay)})}}
if(!panel||!menuContent||!menu)return;if(panel.classList.contains('t830__panel_click')||(panel.classList.contains('t830__panel_hover')&&window.innerWidth<=1199)){menuContent.addEventListener('click',function(e){if(menu.classList.contains('t830m__menu_show')){if(burger)burger.classList.remove('t830__burger_open');t830_closeMenu(rec,menu,overlay)}else{if(burger)burger.classList.add('t830__burger_open');t830_showMenu(rec,menu,burger,overlay)}})}}
function t830_menuHighlight(){var url=window.location.href;var pathname=window.location.pathname;var hash=window.location.hash;if(url.substr(url.length-1)==='/'){url=url.slice(0,-1)}
if(pathname.substr(pathname.length-1)==='/'){pathname=pathname.slice(0,-1)}
if(pathname.charAt(0)==='/'){pathname=pathname.slice(1)}
if(pathname===''){pathname='/'}
var shouldBeActiveElements=document.querySelectorAll('.t830m__list-title a[href=\''+url+'\'], '+'.t830m__list-title a[href=\''+url+'/\'], '+'.t830m__list-title a[href=\''+pathname+'\'], '+'.t830m__list-title a[href=\'/'+pathname+'\'], '+'.t830m__list-title a[href=\''+pathname+'/\'], '+'.t830m__list-title a[href=\'/'+pathname+'/\'], '+'.t830m__submenu-item a[href=\''+url+'\'], '+'.t830m__submenu-item a[href=\''+url+'/\'], '+'.t830m__submenu-item a[href=\''+pathname+'\'], '+'.t830m__submenu-item a[href=\'/'+pathname+'\'], '+'.t830m__submenu-item a[href=\''+pathname+'/\'], '+'.t830m__submenu-item a[href=\'/'+pathname+'/\']'+(hash?', .t450__menu a[href=\''+hash+'\']':''));Array.prototype.forEach.call(shouldBeActiveElements,function(link){link.classList.add('t-active')})}
function t830_scrollSideMenu(rec){var container=rec?rec.querySelector('.t830m__container'):null;if(!container)return;var events=['scroll','wheel','DOMMouseScroll','mousewheel'];events.forEach(function(event){container.addEventListener(event,function(e){var searchResult=rec.querySelector('.t-site-search-dm');if(!searchResult){t830_stopScroll(container,e)}})})}
function t830_stopScroll(container,eventScroll){var scrollTop=container.scrollTop;var scrollHeight=container.scrollHeight;var height=container.offsetHeight;var delta=eventScroll.type==='DOMMouseScroll'?eventScroll.detail*-40:eventScroll.wheelDelta;var up=delta>0;var prevent=function(){eventScroll.stopPropagation();eventScroll.preventDefault();eventScroll.returnValue=!1;return!1};if(!up&&-delta>scrollHeight-height-scrollTop){container.scrollTo(0,scrollHeight);return prevent()}else if(up&&delta>scrollTop){container.scrollTo(0,0);return prevent()}}
function t830_removePadding(rec,allrecords){if(!allrecords||!rec||window.getComputedStyle(rec).display!=='none')return;allrecords.style.paddingLeft='0';var label=document.querySelector('.t-tildalabel');if(label)label.style.paddingLeft='0'}
function t830_checkAnchorLinks(recid){var rec=document.getElementById('rec'+recid);if(window.innerWidth<980||!rec)return;var navLinks=rec?rec.querySelectorAll('.t830m__list a[href*=\'#\']'):[];navLinks=Array.prototype.filter.call(navLinks,function(navLink){return!navLink.classList.contains('tooltipstered')});if(navLinks.length){setTimeout(function(){t830_catchScroll(navLinks)},500)}}
function t830_catchScroll(navLinks){navLinks=Array.prototype.slice.call(navLinks);var clickedSectionID=null;var sections=[];var sectionToNavigationLinkID={};var interval=100;var lastCall;var timeoutID;navLinks=navLinks.reverse();navLinks.forEach(function(link){var currentSection=t830_getSectionByHref(link);if(currentSection&&currentSection.id){sections.push(currentSection);sectionToNavigationLinkID[currentSection.id]=link}});t830_updateSectionsOffsets(sections);sections.sort(function(a,b){var firstTopOffset=parseInt(a.getAttribute('data-offset-top'),10)||0;var secondTopOffset=parseInt(b.getAttribute('data-offset-top'),10)||0;return secondTopOffset-firstTopOffset});window.addEventListener('resize',t_throttle(function(){t830_updateSectionsOffsets(sections)},200));if(typeof jQuery!=='undefined'){$('.t830').bind('displayChanged',function(){t830_updateSectionsOffsets(sections)})}else{var menuEls=document.querySelectorAll('.t830');Array.prototype.forEach.call(menuEls,function(menu){menu.addEventListener('displayChanged',function(){t830_updateSectionsOffsets(sections)})})}
setInterval(function(){t830_updateSectionsOffsets(sections)},5000);t830_highlightNavLinks(navLinks,sections,sectionToNavigationLinkID,clickedSectionID);navLinks.forEach(function(navLink,i){navLink.addEventListener('click',function(){var clickedSection=t830_getSectionByHref(navLink);if(!navLink.classList.contains('tooltipstered')&&clickedSection&&clickedSection.id){navLinks.forEach(function(link,index){if(index===i){link.classList.add('t-active')}else{link.classList.remove('t-active')}});clickedSectionID=clickedSection.id}})});window.addEventListener('scroll',function(){var dateNow=new Date().getTime();if(lastCall&&dateNow<lastCall+interval){clearTimeout(timeoutID);timeoutID=setTimeout(function(){lastCall=dateNow;clickedSectionID=t830_highlightNavLinks(navLinks,sections,sectionToNavigationLinkID,clickedSectionID)},interval-(dateNow-lastCall))}else{lastCall=dateNow;clickedSectionID=t830_highlightNavLinks(navLinks,sections,sectionToNavigationLinkID,clickedSectionID)}})}
function t830_getSectionByHref(curlink){if(!curlink)return;var href=curlink.getAttribute('href');var curLinkValue=href?href.replace(/\s+/g,''):'';if(curLinkValue.indexOf('/')===0)curLinkValue=curLinkValue.slice(1);if(href&&curlink.matches('[href*="#rec"]')){curLinkValue=curLinkValue.replace(/.*#/,'');return document.getElementById(curLinkValue)}else{var selector=href?href.trim():'';var slashIndex=selector.indexOf('#')!==-1?selector.indexOf('#'):!1;if(typeof slashIndex==='number'){selector=selector.slice(slashIndex+1)}else{slashIndex=selector.indexOf('/')!==-1?selector.indexOf('/'):!1;if(typeof slashIndex==='number')selector=selector.slice(slashIndex+1)}
var fullSelector='.r[data-record-type="215"] a[name="'+selector+'"]';return document.querySelector(fullSelector)?document.querySelector(fullSelector).closest('.r'):null}}
function t830_highlightNavLinks(navLinks,sections,sectionToNavigationLinkID,clickedSectionID){var scrollPosition=window.pageYOffset;var scrollHeight=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);var returnValue=clickedSectionID;var lastSection=sections.length?sections[sections.length-1]:null;var lastSectionTopPos=lastSection?lastSection.getAttribute('data-offset-top'):'0';lastSectionTopPos=parseInt(lastSectionTopPos,10)||0;if(sections.length&&clickedSectionID===null&&lastSectionTopPos>(scrollPosition+300)){navLinks.forEach(function(link){link.classList.remove('t-active')});return null}
for(var i=0;i<sections.length;i++){var sectionTopPos=sections[i].getAttribute('data-offset-top');var navLink=sections[i].id?sectionToNavigationLinkID[sections[i].id]:null;if(scrollPosition+300>=sectionTopPos||i===0&&scrollPosition>=scrollHeight-window.innerHeight){if(clickedSectionID===null&&navLink&&!navLink.classList.contains('t-active')){navLinks.forEach(function(link){link.classList.remove('t-active')});if(navLink)navLink.classList.add('t-active');returnValue=null}else if(clickedSectionID!==null&&sections[i].id&&clickedSectionID===sections[i].id){returnValue=null}
break}}
return returnValue}
function t830_updateSectionsOffsets(sections){sections.forEach(function(section){var sectionTopPos=section.getBoundingClientRect().top+window.pageYOffset;section.setAttribute('data-offset-top',sectionTopPos)})}
function t830_slideToggle(target){if(!target)return;if(target.getAttribute('data-slide')==='y')return;if(window.getComputedStyle(target).display==='none'){return t830_slideDown(target)}else{return t830_slideUp(target)}}
function t830_slideUp(target){if(!target)return;var step=target.offsetHeight/30;var difference=target.offsetHeight;target.style.overflow='hidden';target.setAttribute('data-slide','y');var timerID=setInterval(function(){difference-=step;target.style.height=difference+'px';if(difference<=0){target.style.height='';target.style.overflow='';target.style.display='none';target.removeAttribute('data-slide');clearInterval(timerID)}},10)}
function t830_slideDown(target){if(!target)return;target.style.display='';var currentDisplayValue=window.getComputedStyle(target).display;target.style.display=currentDisplayValue==='none'?'block':currentDisplayValue;var targetHeight=target.offsetHeight;target.style.height='0';target.style.overflow='hidden';target.setAttribute('data-slide','y');var step=targetHeight/30;var difference=0;var timerID=setInterval(function(){target.style.height=difference+'px';difference+=step;if(difference>=targetHeight){target.style.height='';target.style.overflow='';target.removeAttribute('data-slide');clearInterval(timerID)}},10)}